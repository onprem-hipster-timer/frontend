{"openapi":"3.1.0","info":{"title":"onperm-hipster-timer-backend","version":"1.0.0"},"paths":{"/v1/schedules":{"post":{"tags":["Schedules"],"summary":"Create Schedule","description":"새 일정 생성\n\nFastAPI Best Practices:\n- async 라우트 사용\n- 트랜잭션 자동 관리 (context manager)\n- Exception Handler가 예외 처리","operationId":"create_schedule_v1_schedules_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"timezone","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"타임존 (예: UTC, +09:00, Asia/Seoul). 지정하지 않으면 UTC로 반환","title":"Timezone"},"description":"타임존 (예: UTC, +09:00, Asia/Seoul). 지정하지 않으면 UTC로 반환"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ScheduleCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ScheduleRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["Schedules"],"summary":"Read Schedules","description":"날짜 범위 기반 일정 조회 (반복 일정 포함, 태그 필터링 지원)\n\n조회 범위 (scope):\n- mine: 내 일정만 (기본값)\n- shared: 공유된 타인의 일정만\n- all: 내 일정 + 공유된 일정\n\n날짜 범위:\n- start_date: 조회 시작 날짜/시간 (필수)\n- end_date: 조회 종료 날짜/시간 (필수)\n- 지정된 날짜 범위와 겹치는 모든 일정을 반환 (반복 일정은 가상 인스턴스로 확장)\n\n태그 필터링:\n- tag_ids: AND 방식 (모든 지정 태그를 포함한 일정만 반환)\n- group_ids: 해당 그룹의 태그 중 하나라도 있는 일정 반환\n- 둘 다 지정 시: 그룹 필터링 후 태그 필터링 적용\n\nFastAPI Best Practices:\n- async 라우트 사용","operationId":"read_schedules_v1_schedules_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"start_date","in":"query","required":true,"schema":{"type":"string","format":"date-time","description":"조회 시작 날짜/시간 (ISO 8601 형식)","title":"Start Date"},"description":"조회 시작 날짜/시간 (ISO 8601 형식)"},{"name":"end_date","in":"query","required":true,"schema":{"type":"string","format":"date-time","description":"조회 종료 날짜/시간 (ISO 8601 형식)","title":"End Date"},"description":"조회 종료 날짜/시간 (ISO 8601 형식)"},{"name":"scope","in":"query","required":false,"schema":{"$ref":"#/components/schemas/ResourceScope","description":"조회 범위: mine(내 일정만), shared(공유된 일정만), all(모두)","default":"mine"},"description":"조회 범위: mine(내 일정만), shared(공유된 일정만), all(모두)"},{"name":"tag_ids","in":"query","required":false,"schema":{"anyOf":[{"type":"array","items":{"type":"string","format":"uuid"}},{"type":"null"}],"description":"태그 ID 리스트 (AND 방식: 모든 지정 태그를 포함한 일정만 반환)","title":"Tag Ids"},"description":"태그 ID 리스트 (AND 방식: 모든 지정 태그를 포함한 일정만 반환)"},{"name":"group_ids","in":"query","required":false,"schema":{"anyOf":[{"type":"array","items":{"type":"string","format":"uuid"}},{"type":"null"}],"description":"태그 그룹 ID 리스트 (해당 그룹의 태그를 가진 일정 반환)","title":"Group Ids"},"description":"태그 그룹 ID 리스트 (해당 그룹의 태그를 가진 일정 반환)"},{"name":"timezone","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"타임존 (예: UTC, +09:00, Asia/Seoul). 지정하지 않으면 UTC로 반환","title":"Timezone"},"description":"타임존 (예: UTC, +09:00, Asia/Seoul). 지정하지 않으면 UTC로 반환"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ScheduleRead"},"title":"Response Read Schedules V1 Schedules Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/schedules/{schedule_id}":{"get":{"tags":["Schedules"],"summary":"Read Schedule","description":"ID로 일정 조회 (공유된 일정 포함)\n\n본인 소유 일정 또는 공유 접근 권한이 있는 일정을 조회합니다.\n접근 권한이 없으면 403 Forbidden을 반환합니다.","operationId":"read_schedule_v1_schedules__schedule_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"schedule_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Schedule Id"}},{"name":"timezone","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"타임존 (예: UTC, +09:00, Asia/Seoul). 지정하지 않으면 UTC로 반환","title":"Timezone"},"description":"타임존 (예: UTC, +09:00, Asia/Seoul). 지정하지 않으면 UTC로 반환"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ScheduleRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["Schedules"],"summary":"Update Schedule","description":"일정 업데이트 (반복 일정 인스턴스 포함)\n\n일반 일정과 가상 인스턴스 모두 지원:\n- 일반 일정: schedule_id로 조회하여 업데이트\n- 가상 인스턴스: schedule_id를 parent_id로 사용하고 instance_start를 쿼리 파라미터로 전송\n\n### 요청 예시\n```json\n{\n    \"title\": \"업데이트된 제목\"\n}\n```\n\nFastAPI Best Practices:\n- Service는 session을 받아서 CRUD 직접 사용\n- 가상 인스턴스인 경우 instance_start 쿼리 파라미터로 처리","operationId":"update_schedule_v1_schedules__schedule_id__patch","security":[{"HTTPBearer":[]}],"parameters":[{"name":"schedule_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Schedule Id"}},{"name":"instance_start","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"description":"반복 일정 인스턴스 시작 시간 (ISO 8601 형식)","title":"Instance Start"},"description":"반복 일정 인스턴스 시작 시간 (ISO 8601 형식)"},{"name":"timezone","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"타임존 (예: UTC, +09:00, Asia/Seoul). 지정하지 않으면 UTC로 반환","title":"Timezone"},"description":"타임존 (예: UTC, +09:00, Asia/Seoul). 지정하지 않으면 UTC로 반환"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ScheduleUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ScheduleRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Schedules"],"summary":"Delete Schedule","description":"일정 삭제 (반복 일정 인스턴스 포함)\n\n일반 일정과 가상 인스턴스 모두 지원:\n- 일반 일정: schedule_id로 조회하여 삭제\n- 가상 인스턴스: schedule_id를 parent_id로 사용하고 instance_start를 쿼리 파라미터로 전송\n\nFastAPI Best Practices:\n- Service는 session을 받아서 CRUD 직접 사용\n- 가상 인스턴스인 경우 instance_start 쿼리 파라미터로 처리","operationId":"delete_schedule_v1_schedules__schedule_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"schedule_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Schedule Id"}},{"name":"instance_start","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"description":"반복 일정 인스턴스 시작 시간 (ISO 8601 형식)","title":"Instance Start"},"description":"반복 일정 인스턴스 시작 시간 (ISO 8601 형식)"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/schedules/{schedule_id}/timers":{"get":{"tags":["Schedules"],"summary":"Get Schedule Timers","description":"일정의 모든 타이머 조회 (공유된 일정 포함)","operationId":"get_schedule_timers_v1_schedules__schedule_id__timers_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"schedule_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Schedule Id"}},{"name":"include_schedule","in":"query","required":false,"schema":{"type":"boolean","description":"Schedule 정보 포함 여부 (기본값: false)","default":false,"title":"Include Schedule"},"description":"Schedule 정보 포함 여부 (기본값: false)"},{"name":"timezone","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"타임존 (예: UTC, +09:00, Asia/Seoul). 지정하지 않으면 UTC로 반환","title":"Timezone"},"description":"타임존 (예: UTC, +09:00, Asia/Seoul). 지정하지 않으면 UTC로 반환"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TimerRead"},"title":"Response Get Schedule Timers V1 Schedules  Schedule Id  Timers Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/schedules/{schedule_id}/timers/active":{"get":{"tags":["Schedules"],"summary":"Get Active Timer","description":"일정의 현재 활성 타이머 조회 (RUNNING 또는 PAUSED, 공유된 일정 포함)\n\n활성 타이머가 없으면 404를 반환합니다.","operationId":"get_active_timer_v1_schedules__schedule_id__timers_active_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"schedule_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Schedule Id"}},{"name":"include_schedule","in":"query","required":false,"schema":{"type":"boolean","description":"Schedule 정보 포함 여부 (기본값: false)","default":false,"title":"Include Schedule"},"description":"Schedule 정보 포함 여부 (기본값: false)"},{"name":"timezone","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"타임존 (예: UTC, +09:00, Asia/Seoul). 지정하지 않으면 UTC로 반환","title":"Timezone"},"description":"타임존 (예: UTC, +09:00, Asia/Seoul). 지정하지 않으면 UTC로 반환"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TimerRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/schedules/{schedule_id}/todo":{"post":{"tags":["Schedules"],"summary":"Create Todo From Schedule","description":"기존 Schedule에서 연관된 Todo 생성\n\nSchedule의 정보를 기반으로 새로운 Todo를 생성합니다:\n- Todo의 title, description은 Schedule에서 복사\n- Todo의 deadline은 Schedule의 start_time으로 설정\n- Schedule의 태그가 Todo에도 복사됨\n- 생성된 Todo와 Schedule이 source_todo_id로 연결됨\n\n제약사항:\n- 이미 Todo와 연결된 Schedule에서는 호출 불가 (400 에러)\n- tag_group_id는 필수 파라미터\n\n:param schedule_id: Schedule ID\n:param tag_group_id: Todo가 속할 TagGroup ID\n:return: 생성된 Todo","operationId":"create_todo_from_schedule_v1_schedules__schedule_id__todo_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"schedule_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Schedule Id"}},{"name":"tag_group_id","in":"query","required":true,"schema":{"type":"string","format":"uuid","description":"Todo가 속할 TagGroup ID (필수)","title":"Tag Group Id"},"description":"Todo가 속할 TagGroup ID (필수)"}],"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/timers":{"get":{"tags":["Timers"],"summary":"List Timers","description":"타이머 목록 조회\n\n조회 범위 (scope):\n- mine: 내 타이머만 (기본값)\n- shared: 공유된 타인의 타이머만\n- all: 내 타이머 + 공유된 타이머\n\n필터링 옵션:\n- status: 상태 필터 (RUNNING, PAUSED, COMPLETED, CANCELLED) - 복수 선택 가능\n- type: 타입 필터\n  - independent: 독립 타이머 (schedule_id=null AND todo_id=null)\n  - schedule: Schedule 연결 타이머 (schedule_id != null)\n  - todo: Todo 연결 타이머 (todo_id != null)\n- start_date, end_date: 날짜 범위 필터 (started_at 기준)","operationId":"list_timers_v1_timers_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"scope","in":"query","required":false,"schema":{"$ref":"#/components/schemas/ResourceScope","description":"조회 범위: mine(내 타이머만), shared(공유된 타이머만), all(모두)","default":"mine"},"description":"조회 범위: mine(내 타이머만), shared(공유된 타이머만), all(모두)"},{"name":"status","in":"query","required":false,"schema":{"anyOf":[{"type":"array","items":{"type":"string"}},{"type":"null"}],"description":"상태 필터 (RUNNING, PAUSED, COMPLETED, CANCELLED) - 복수 선택 가능","title":"Status"},"description":"상태 필터 (RUNNING, PAUSED, COMPLETED, CANCELLED) - 복수 선택 가능"},{"name":"type","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"타입 필터: independent(독립 타이머), schedule(Schedule 연결), todo(Todo 연결)","title":"Type"},"description":"타입 필터: independent(독립 타이머), schedule(Schedule 연결), todo(Todo 연결)"},{"name":"start_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"description":"시작 날짜 필터 (started_at 기준, ISO 8601 형식)","title":"Start Date"},"description":"시작 날짜 필터 (started_at 기준, ISO 8601 형식)"},{"name":"end_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"description":"종료 날짜 필터 (started_at 기준, ISO 8601 형식)","title":"End Date"},"description":"종료 날짜 필터 (started_at 기준, ISO 8601 형식)"},{"name":"include_schedule","in":"query","required":false,"schema":{"type":"boolean","description":"Schedule 정보 포함 여부 (기본값: false)","default":false,"title":"Include Schedule"},"description":"Schedule 정보 포함 여부 (기본값: false)"},{"name":"include_todo","in":"query","required":false,"schema":{"type":"boolean","description":"Todo 정보 포함 여부 (기본값: false)","default":false,"title":"Include Todo"},"description":"Todo 정보 포함 여부 (기본값: false)"},{"name":"tag_include_mode","in":"query","required":false,"schema":{"$ref":"#/components/schemas/TagIncludeMode","description":"태그 포함 모드: none(포함 안 함), timer_only(타이머 태그만), inherit_from_schedule(스케줄/Todo 태그 상속)","default":"none"},"description":"태그 포함 모드: none(포함 안 함), timer_only(타이머 태그만), inherit_from_schedule(스케줄/Todo 태그 상속)"},{"name":"timezone","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"타임존 (예: UTC, +09:00, Asia/Seoul). 지정하지 않으면 UTC로 반환","title":"Timezone"},"description":"타임존 (예: UTC, +09:00, Asia/Seoul). 지정하지 않으면 UTC로 반환"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TimerRead"},"title":"Response List Timers V1 Timers Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/timers/active":{"get":{"tags":["Timers"],"summary":"Get User Active Timer","description":"사용자의 현재 활성 타이머 조회 (RUNNING 또는 PAUSED)\n\n활성 타이머가 없으면 404 반환\n여러 개가 있으면 가장 최근 것 반환","operationId":"get_user_active_timer_v1_timers_active_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"include_schedule","in":"query","required":false,"schema":{"type":"boolean","description":"Schedule 정보 포함 여부 (기본값: false)","default":false,"title":"Include Schedule"},"description":"Schedule 정보 포함 여부 (기본값: false)"},{"name":"include_todo","in":"query","required":false,"schema":{"type":"boolean","description":"Todo 정보 포함 여부 (기본값: false)","default":false,"title":"Include Todo"},"description":"Todo 정보 포함 여부 (기본값: false)"},{"name":"tag_include_mode","in":"query","required":false,"schema":{"$ref":"#/components/schemas/TagIncludeMode","description":"태그 포함 모드: none(포함 안 함), timer_only(타이머 태그만), inherit_from_schedule(스케줄/Todo 태그 상속)","default":"none"},"description":"태그 포함 모드: none(포함 안 함), timer_only(타이머 태그만), inherit_from_schedule(스케줄/Todo 태그 상속)"},{"name":"timezone","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"타임존 (예: UTC, +09:00, Asia/Seoul). 지정하지 않으면 UTC로 반환","title":"Timezone"},"description":"타임존 (예: UTC, +09:00, Asia/Seoul). 지정하지 않으면 UTC로 반환"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TimerRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/timers/{timer_id}":{"get":{"tags":["Timers"],"summary":"Get Timer","description":"타이머 조회 (공유된 타이머 포함)\n\n본인 소유 타이머 또는 공유 접근 권한이 있는 타이머를 조회합니다.\n접근 권한이 없으면 403 Forbidden을 반환합니다.","operationId":"get_timer_v1_timers__timer_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"timer_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Timer Id"}},{"name":"include_schedule","in":"query","required":false,"schema":{"type":"boolean","description":"Schedule 정보 포함 여부 (기본값: false)","default":false,"title":"Include Schedule"},"description":"Schedule 정보 포함 여부 (기본값: false)"},{"name":"include_todo","in":"query","required":false,"schema":{"type":"boolean","description":"Todo 정보 포함 여부 (기본값: false)","default":false,"title":"Include Todo"},"description":"Todo 정보 포함 여부 (기본값: false)"},{"name":"tag_include_mode","in":"query","required":false,"schema":{"$ref":"#/components/schemas/TagIncludeMode","description":"태그 포함 모드: none(포함 안 함), timer_only(타이머 태그만), inherit_from_schedule(스케줄/Todo 태그 상속)","default":"none"},"description":"태그 포함 모드: none(포함 안 함), timer_only(타이머 태그만), inherit_from_schedule(스케줄/Todo 태그 상속)"},{"name":"timezone","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"타임존 (예: UTC, +09:00, Asia/Seoul). 지정하지 않으면 UTC로 반환","title":"Timezone"},"description":"타임존 (예: UTC, +09:00, Asia/Seoul). 지정하지 않으면 UTC로 반환"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TimerRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["Timers"],"summary":"Update Timer","description":"타이머 메타데이터 업데이트 (title, description, tags)","operationId":"update_timer_v1_timers__timer_id__patch","security":[{"HTTPBearer":[]}],"parameters":[{"name":"timer_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Timer Id"}},{"name":"include_schedule","in":"query","required":false,"schema":{"type":"boolean","description":"Schedule 정보 포함 여부 (기본값: false)","default":false,"title":"Include Schedule"},"description":"Schedule 정보 포함 여부 (기본값: false)"},{"name":"include_todo","in":"query","required":false,"schema":{"type":"boolean","description":"Todo 정보 포함 여부 (기본값: false)","default":false,"title":"Include Todo"},"description":"Todo 정보 포함 여부 (기본값: false)"},{"name":"tag_include_mode","in":"query","required":false,"schema":{"$ref":"#/components/schemas/TagIncludeMode","description":"태그 포함 모드: none(포함 안 함), timer_only(타이머 태그만), inherit_from_schedule(스케줄/Todo 태그 상속)","default":"none"},"description":"태그 포함 모드: none(포함 안 함), timer_only(타이머 태그만), inherit_from_schedule(스케줄/Todo 태그 상속)"},{"name":"timezone","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"타임존 (예: UTC, +09:00, Asia/Seoul). 지정하지 않으면 UTC로 반환","title":"Timezone"},"description":"타임존 (예: UTC, +09:00, Asia/Seoul). 지정하지 않으면 UTC로 반환"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TimerUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TimerRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Timers"],"summary":"Delete Timer","description":"타이머 삭제","operationId":"delete_timer_v1_timers__timer_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"timer_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Timer Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/holidays":{"get":{"tags":["Holidays"],"summary":"Get Holidays","description":"공휴일 조회\n\n- year만 지정: 해당 연도 조회\n- start_year/end_year 지정: 범위 조회 (end_year 없으면 start_year로 대체)\n- 미지정: 현재 연도 조회\n- auto_sync=False (기본값): DB에 있는 데이터만 반환\n- auto_sync=True: 데이터가 없으면 자동으로 동기화 수행 후 결과 반환\n- 422 에러: 해당 연도의 공휴일 데이터가 준비되지 않은 경우 (2028년 이후 등)","operationId":"get_holidays_v1_holidays_get","parameters":[{"name":"year","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"조회 연도 (YYYY)","title":"Year"},"description":"조회 연도 (YYYY)"},{"name":"start_year","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"시작 연도 (YYYY)","title":"Start Year"},"description":"시작 연도 (YYYY)"},{"name":"end_year","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"종료 연도 (YYYY)","title":"End Year"},"description":"종료 연도 (YYYY)"},{"name":"auto_sync","in":"query","required":false,"schema":{"type":"boolean","description":"데이터가 없을 경우 자동으로 동기화 실행","default":false,"title":"Auto Sync"},"description":"데이터가 없을 경우 자동으로 동기화 실행"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/HolidayItem"},"title":"Response Get Holidays V1 Holidays Get"}}}},"422":{"description":"해당 연도의 공휴일 데이터가 아직 준비되지 않음","content":{"application/json":{"example":{"error_id":"550e8400-e29b-41d4-a716-446655440000","status_code":422,"error_type":"HolidayDataNotAvailable","message":"2028년~2028년 공휴일 데이터가 아직 준비되지 않았습니다","timestamp":"2026-01-15T00:00:00Z","path":"/v1/holidays"}}}}}}},"/v1/tags/groups":{"get":{"tags":["Tags"],"summary":"Read Tag Groups","description":"모든 태그 그룹 조회 (태그 포함)","operationId":"read_tag_groups_v1_tags_groups_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/TagGroupReadWithTags"},"type":"array","title":"Response Read Tag Groups V1 Tags Groups Get"}}}}},"security":[{"HTTPBearer":[]}]},"post":{"tags":["Tags"],"summary":"Create Tag Group","description":"태그 그룹 생성","operationId":"create_tag_group_v1_tags_groups_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TagGroupCreate"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TagGroupRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/v1/tags/groups/{group_id}":{"get":{"tags":["Tags"],"summary":"Read Tag Group","description":"태그 그룹 조회 (태그 포함)","operationId":"read_tag_group_v1_tags_groups__group_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"group_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Group Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TagGroupReadWithTags"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["Tags"],"summary":"Update Tag Group","description":"태그 그룹 업데이트","operationId":"update_tag_group_v1_tags_groups__group_id__patch","security":[{"HTTPBearer":[]}],"parameters":[{"name":"group_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Group Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TagGroupUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TagGroupRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Tags"],"summary":"Delete Tag Group","description":"태그 그룹 삭제 (CASCADE로 태그도 삭제)","operationId":"delete_tag_group_v1_tags_groups__group_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"group_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Group Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/tags":{"get":{"tags":["Tags"],"summary":"Read Tags","description":"모든 태그 조회","operationId":"read_tags_v1_tags_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/TagRead"},"type":"array","title":"Response Read Tags V1 Tags Get"}}}}},"security":[{"HTTPBearer":[]}]},"post":{"tags":["Tags"],"summary":"Create Tag","description":"태그 생성","operationId":"create_tag_v1_tags_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TagCreate"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TagRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/v1/tags/{tag_id}":{"get":{"tags":["Tags"],"summary":"Read Tag","description":"태그 조회","operationId":"read_tag_v1_tags__tag_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"tag_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Tag Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TagRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["Tags"],"summary":"Update Tag","description":"태그 업데이트","operationId":"update_tag_v1_tags__tag_id__patch","security":[{"HTTPBearer":[]}],"parameters":[{"name":"tag_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Tag Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TagUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TagRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Tags"],"summary":"Delete Tag","description":"태그 삭제","operationId":"delete_tag_v1_tags__tag_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"tag_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Tag Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/todos":{"post":{"tags":["Todos"],"summary":"Create Todo","description":"새 Todo 생성\n\nTodo는 독립적인 엔티티입니다.\ndeadline이 있으면 별도의 Schedule이 자동으로 생성됩니다.","operationId":"create_todo_v1_todos_post","security":[{"HTTPBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TodoCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TodoRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["Todos"],"summary":"Read Todos","description":"Todo 목록 조회 (태그/그룹 필터링 지원)\n\n조회 범위 (scope):\n- mine: 내 Todo만 (기본값)\n- shared: 공유된 타인의 Todo만\n- all: 내 Todo + 공유된 Todo\n\n그룹 필터링:\n- group_ids: 해당 그룹에 속한 Todo 반환\n  - tag_group_id로 직접 연결된 Todo\n  - OR 해당 그룹의 태그를 가진 Todo\n\n태그 필터링:\n- tag_ids: AND 방식 (모든 지정 태그를 포함한 Todo만 반환)\n- 태그 필터 시 조상 노드도 포함 (orphan 방지)\n\n응답의 include_reason 필드:\n- MATCH: 필터 조건에 직접 매칭된 Todo\n- ANCESTOR: 매칭된 Todo의 조상이라 포함된 Todo\n\n둘 다 지정 시: 그룹 필터링 후 태그 필터링 적용","operationId":"read_todos_v1_todos_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"scope","in":"query","required":false,"schema":{"$ref":"#/components/schemas/ResourceScope","description":"조회 범위: mine(내 Todo만), shared(공유된 Todo만), all(모두)","default":"mine"},"description":"조회 범위: mine(내 Todo만), shared(공유된 Todo만), all(모두)"},{"name":"tag_ids","in":"query","required":false,"schema":{"anyOf":[{"type":"array","items":{"type":"string","format":"uuid"}},{"type":"null"}],"description":"태그 ID 리스트 (AND 방식: 모든 지정 태그를 포함한 Todo만 반환)","title":"Tag Ids"},"description":"태그 ID 리스트 (AND 방식: 모든 지정 태그를 포함한 Todo만 반환)"},{"name":"group_ids","in":"query","required":false,"schema":{"anyOf":[{"type":"array","items":{"type":"string","format":"uuid"}},{"type":"null"}],"description":"태그 그룹 ID 리스트 (해당 그룹에 속한 Todo 반환 - 직접 연결 또는 태그 기반)","title":"Group Ids"},"description":"태그 그룹 ID 리스트 (해당 그룹에 속한 Todo 반환 - 직접 연결 또는 태그 기반)"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TodoRead"},"title":"Response Read Todos V1 Todos Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/todos/stats":{"get":{"tags":["Todos"],"summary":"Get Todo Stats","description":"Todo 통계 조회\n\n그룹별 태그 통계를 반환합니다.\ngroup_id가 지정되면 해당 그룹의 태그만 집계합니다.","operationId":"get_todo_stats_v1_todos_stats_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"group_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"description":"필터링할 태그 그룹 ID","title":"Group Id"},"description":"필터링할 태그 그룹 ID"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TodoStats"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/todos/{todo_id}":{"get":{"tags":["Todos"],"summary":"Read Todo","description":"ID로 Todo 조회 (공유된 Todo 포함)\n\n본인 소유 Todo 또는 공유 접근 권한이 있는 Todo를 조회합니다.\n접근 권한이 없으면 403 Forbidden을 반환합니다.","operationId":"read_todo_v1_todos__todo_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"todo_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Todo Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TodoRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["Todos"],"summary":"Update Todo","description":"Todo 업데이트\n\ntitle, description, tag_ids, deadline, parent_id, status를 업데이트할 수 있습니다.\n\ndeadline 변경 시:\n- deadline 추가: 새 Schedule 생성\n- deadline 변경: 기존 Schedule 업데이트\n- deadline 제거: 기존 Schedule 삭제","operationId":"update_todo_v1_todos__todo_id__patch","security":[{"HTTPBearer":[]}],"parameters":[{"name":"todo_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Todo Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TodoUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TodoRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Todos"],"summary":"Delete Todo","description":"Todo 삭제","operationId":"delete_todo_v1_todos__todo_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"todo_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Todo Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/todos/{todo_id}/timers":{"get":{"tags":["Todos"],"summary":"Get Todo Timers","description":"Todo의 모든 타이머 조회 (공유된 Todo 포함)\n\nSchedule의 /schedules/{schedule_id}/timers 엔드포인트와 동일한 패턴입니다.","operationId":"get_todo_timers_v1_todos__todo_id__timers_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"todo_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Todo Id"}},{"name":"include_todo","in":"query","required":false,"schema":{"type":"boolean","description":"Todo 정보 포함 여부 (기본값: false)","default":false,"title":"Include Todo"},"description":"Todo 정보 포함 여부 (기본값: false)"},{"name":"timezone","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"타임존 (예: UTC, +09:00, Asia/Seoul). 지정하지 않으면 UTC로 반환","title":"Timezone"},"description":"타임존 (예: UTC, +09:00, Asia/Seoul). 지정하지 않으면 UTC로 반환"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TimerRead"},"title":"Response Get Todo Timers V1 Todos  Todo Id  Timers Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/todos/{todo_id}/timers/active":{"get":{"tags":["Todos"],"summary":"Get Todo Active Timer","description":"Todo의 현재 활성 타이머 조회 (RUNNING 또는 PAUSED, 공유된 Todo 포함)\n\n활성 타이머가 없으면 404를 반환합니다.\nSchedule의 /schedules/{schedule_id}/timers/active 엔드포인트와 동일한 패턴입니다.","operationId":"get_todo_active_timer_v1_todos__todo_id__timers_active_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"todo_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Todo Id"}},{"name":"include_todo","in":"query","required":false,"schema":{"type":"boolean","description":"Todo 정보 포함 여부 (기본값: false)","default":false,"title":"Include Todo"},"description":"Todo 정보 포함 여부 (기본값: false)"},{"name":"timezone","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"타임존 (예: UTC, +09:00, Asia/Seoul). 지정하지 않으면 UTC로 반환","title":"Timezone"},"description":"타임존 (예: UTC, +09:00, Asia/Seoul). 지정하지 않으면 UTC로 반환"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TimerRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/friends":{"get":{"tags":["Friends"],"summary":"List Friends","description":"친구 목록 조회\n\n현재 사용자의 모든 친구 목록을 반환합니다.","operationId":"list_friends_v1_friends_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/FriendRead"},"type":"array","title":"Response List Friends V1 Friends Get"}}}}},"security":[{"HTTPBearer":[]}]}},"/v1/friends/ids":{"get":{"tags":["Friends"],"summary":"List Friend Ids","description":"친구 ID 목록만 조회 (효율적인 쿼리)\n\n친구 목록을 빠르게 확인할 때 사용합니다.","operationId":"list_friend_ids_v1_friends_ids_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"type":"string"},"type":"array","title":"Response List Friend Ids V1 Friends Ids Get"}}}}},"security":[{"HTTPBearer":[]}]}},"/v1/friends/requests/received":{"get":{"tags":["Friends"],"summary":"List Received Requests","description":"받은 친구 요청 목록 조회\n\n대기 중인 친구 요청만 반환합니다.","operationId":"list_received_requests_v1_friends_requests_received_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/PendingRequestRead"},"type":"array","title":"Response List Received Requests V1 Friends Requests Received Get"}}}}},"security":[{"HTTPBearer":[]}]}},"/v1/friends/requests/sent":{"get":{"tags":["Friends"],"summary":"List Sent Requests","description":"보낸 친구 요청 목록 조회\n\n대기 중인 친구 요청만 반환합니다.","operationId":"list_sent_requests_v1_friends_requests_sent_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/PendingRequestRead"},"type":"array","title":"Response List Sent Requests V1 Friends Requests Sent Get"}}}}},"security":[{"HTTPBearer":[]}]}},"/v1/friends/requests":{"post":{"tags":["Friends"],"summary":"Send Friend Request","description":"친구 요청 보내기\n\n대상 사용자에게 친구 요청을 보냅니다.\n이미 친구이거나 대기 중인 요청이 있으면 에러가 발생합니다.","operationId":"send_friend_request_v1_friends_requests_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FriendRequest"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FriendshipRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/v1/friends/requests/{friendship_id}/accept":{"post":{"tags":["Friends"],"summary":"Accept Friend Request","description":"친구 요청 수락\n\n받은 친구 요청을 수락합니다.\n요청 수신자만 수락할 수 있습니다.","operationId":"accept_friend_request_v1_friends_requests__friendship_id__accept_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"friendship_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Friendship Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FriendshipRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/friends/requests/{friendship_id}/reject":{"post":{"tags":["Friends"],"summary":"Reject Friend Request","description":"친구 요청 거절\n\n받은 친구 요청을 거절합니다.\n거절된 요청은 삭제됩니다.","operationId":"reject_friend_request_v1_friends_requests__friendship_id__reject_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"friendship_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Friendship Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/friends/requests/{friendship_id}":{"delete":{"tags":["Friends"],"summary":"Cancel Friend Request","description":"보낸 친구 요청 취소\n\n보낸 친구 요청을 취소합니다.\n요청 발신자만 취소할 수 있습니다.","operationId":"cancel_friend_request_v1_friends_requests__friendship_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"friendship_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Friendship Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/friends/{friendship_id}":{"delete":{"tags":["Friends"],"summary":"Remove Friend","description":"친구 삭제\n\n친구 관계를 끊습니다.\n양쪽 모두 삭제할 수 있습니다.","operationId":"remove_friend_v1_friends__friendship_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"friendship_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Friendship Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/friends/check/{user_id}":{"get":{"tags":["Friends"],"summary":"Check Friendship","description":"친구 여부 확인\n\n특정 사용자와 친구인지 확인합니다.","operationId":"check_friendship_v1_friends_check__user_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"boolean","title":"Response Check Friendship V1 Friends Check  User Id  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/friends/block/{user_id}":{"post":{"tags":["Friends"],"summary":"Block User","description":"사용자 차단\n\n특정 사용자를 차단합니다.\n차단된 사용자는 친구 요청을 보낼 수 없고, 공유된 콘텐츠에 접근할 수 없습니다.","operationId":"block_user_v1_friends_block__user_id__post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FriendshipRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Friends"],"summary":"Unblock User","description":"사용자 차단 해제\n\n차단을 해제합니다.\n본인이 차단한 경우에만 해제할 수 있습니다.","operationId":"unblock_user_v1_friends_block__user_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/graphql":{"get":{"tags":["GraphQL"],"summary":"Handle Http Get","operationId":"handle_http_get_v1_graphql_get","responses":{"200":{"description":"The GraphiQL integrated development environment.","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found if GraphiQL or query via GET are not enabled."}}},"post":{"tags":["GraphQL"],"summary":"Handle Http Post","operationId":"handle_http_post_v1_graphql_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/health":{"get":{"tags":["Health"],"summary":"Health Check","description":"애플리케이션 상태 확인\n\n로드밸런서, Kubernetes, ECS 등에서 사용하는 health check 엔드포인트.\n인증 없이 접근 가능합니다.","operationId":"health_check_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"CreateTodoOptions":{"properties":{"tag_group_id":{"type":"string","format":"uuid","title":"Tag Group Id"}},"type":"object","required":["tag_group_id"],"title":"CreateTodoOptions","description":"Schedule 생성 시 함께 생성할 Todo 옵션"},"FriendRead":{"properties":{"user_id":{"type":"string","title":"User Id"},"friendship_id":{"type":"string","format":"uuid","title":"Friendship Id"},"since":{"type":"string","format":"date-time","title":"Since"}},"type":"object","required":["user_id","friendship_id","since"],"title":"FriendRead","description":"친구 정보 조회 DTO (간략화)"},"FriendRequest":{"properties":{"addressee_id":{"type":"string","title":"Addressee Id"}},"type":"object","required":["addressee_id"],"title":"FriendRequest","description":"친구 요청 DTO"},"FriendshipRead":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"requester_id":{"type":"string","title":"Requester Id"},"addressee_id":{"type":"string","title":"Addressee Id"},"status":{"$ref":"#/components/schemas/FriendshipStatus"},"blocked_by":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Blocked By"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["id","requester_id","addressee_id","status","created_at","updated_at"],"title":"FriendshipRead","description":"친구 관계 조회 DTO"},"FriendshipStatus":{"type":"string","enum":["pending","accepted","blocked"],"title":"FriendshipStatus","description":"친구 관계 상태"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"HolidayItem":{"properties":{"locdate":{"type":"string","title":"Locdate"},"seq":{"type":"integer","title":"Seq"},"dateKind":{"type":"string","title":"Datekind"},"dateName":{"type":"string","title":"Datename"},"isHoliday":{"type":"boolean","title":"Isholiday"}},"type":"object","required":["locdate","seq","dateKind","dateName","isHoliday"],"title":"HolidayItem","description":"도메인 국경일 정보 항목 (정제된 데이터)"},"PendingRequestRead":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"requester_id":{"type":"string","title":"Requester Id"},"addressee_id":{"type":"string","title":"Addressee Id"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["id","requester_id","addressee_id","created_at"],"title":"PendingRequestRead","description":"대기 중인 친구 요청 DTO"},"ResourceScope":{"type":"string","enum":["mine","shared","all"],"title":"ResourceScope","description":"리소스 조회 범위 (공유 리소스 포함 여부)"},"ScheduleCreate":{"properties":{"title":{"type":"string","title":"Title"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"start_time":{"type":"string","format":"date-time","title":"Start Time"},"end_time":{"type":"string","format":"date-time","title":"End Time"},"recurrence_rule":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Recurrence Rule"},"recurrence_end":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Recurrence End"},"tag_ids":{"anyOf":[{"items":{"type":"string","format":"uuid"},"type":"array"},{"type":"null"}],"title":"Tag Ids"},"tag_group_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Tag Group Id"},"source_todo_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Source Todo Id"},"state":{"anyOf":[{"$ref":"#/components/schemas/ScheduleState"},{"type":"null"}],"default":"PLANNED"},"create_todo_options":{"anyOf":[{"$ref":"#/components/schemas/CreateTodoOptions"},{"type":"null"}]},"visibility":{"anyOf":[{"$ref":"#/components/schemas/VisibilitySettings"},{"type":"null"}]}},"type":"object","required":["title","start_time","end_time"],"title":"ScheduleCreate","description":"일정 생성 DTO"},"ScheduleRead":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"title":{"type":"string","title":"Title"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"start_time":{"type":"string","format":"date-time","title":"Start Time"},"end_time":{"type":"string","format":"date-time","title":"End Time"},"recurrence_rule":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Recurrence Rule"},"recurrence_end":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Recurrence End"},"parent_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Parent Id"},"tag_group_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Tag Group Id"},"source_todo_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Source Todo Id"},"state":{"$ref":"#/components/schemas/ScheduleState"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"tags":{"items":{"$ref":"#/components/schemas/TagRead"},"type":"array","title":"Tags","default":[]},"owner_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Owner Id"},"visibility_level":{"anyOf":[{"$ref":"#/components/schemas/VisibilityLevel"},{"type":"null"}]},"is_shared":{"type":"boolean","title":"Is Shared","default":false}},"type":"object","required":["id","title","start_time","end_time","state","created_at"],"title":"ScheduleRead","description":"일정 조회 DTO"},"ScheduleState":{"type":"string","enum":["PLANNED","CONFIRMED","CANCELLED"],"title":"ScheduleState","description":"Schedule 상태"},"ScheduleUpdate":{"properties":{"title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Title"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"start_time":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Start Time"},"end_time":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"End Time"},"recurrence_rule":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Recurrence Rule"},"recurrence_end":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Recurrence End"},"tag_ids":{"anyOf":[{"items":{"type":"string","format":"uuid"},"type":"array"},{"type":"null"}],"title":"Tag Ids"},"tag_group_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Tag Group Id"},"source_todo_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Source Todo Id"},"state":{"anyOf":[{"$ref":"#/components/schemas/ScheduleState"},{"type":"null"}]},"visibility":{"anyOf":[{"$ref":"#/components/schemas/VisibilitySettings"},{"type":"null"}]}},"type":"object","title":"ScheduleUpdate","description":"일정 업데이트 DTO"},"TagCreate":{"properties":{"name":{"type":"string","title":"Name"},"color":{"type":"string","title":"Color"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"group_id":{"type":"string","format":"uuid","title":"Group Id"}},"type":"object","required":["name","color","group_id"],"title":"TagCreate","description":"태그 생성 DTO"},"TagGroupCreate":{"properties":{"name":{"type":"string","title":"Name"},"color":{"type":"string","title":"Color"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"goal_ratios":{"anyOf":[{"additionalProperties":{"type":"number"},"type":"object"},{"type":"null"}],"title":"Goal Ratios"},"is_todo_group":{"type":"boolean","title":"Is Todo Group","default":false}},"type":"object","required":["name","color"],"title":"TagGroupCreate","description":"태그 그룹 생성 DTO"},"TagGroupRead":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"name":{"type":"string","title":"Name"},"color":{"type":"string","title":"Color"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"goal_ratios":{"anyOf":[{"additionalProperties":{"type":"number"},"type":"object"},{"type":"null"}],"title":"Goal Ratios"},"is_todo_group":{"type":"boolean","title":"Is Todo Group"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["id","name","color","is_todo_group","created_at","updated_at"],"title":"TagGroupRead","description":"태그 그룹 조회 DTO"},"TagGroupReadWithTags":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"name":{"type":"string","title":"Name"},"color":{"type":"string","title":"Color"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"goal_ratios":{"anyOf":[{"additionalProperties":{"type":"number"},"type":"object"},{"type":"null"}],"title":"Goal Ratios"},"is_todo_group":{"type":"boolean","title":"Is Todo Group"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"},"tags":{"items":{"$ref":"#/components/schemas/TagRead"},"type":"array","title":"Tags","default":[]}},"type":"object","required":["id","name","color","is_todo_group","created_at","updated_at"],"title":"TagGroupReadWithTags","description":"태그 그룹 조회 DTO (태그 포함)"},"TagGroupUpdate":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"color":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Color"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"goal_ratios":{"anyOf":[{"additionalProperties":{"type":"number"},"type":"object"},{"type":"null"}],"title":"Goal Ratios"},"is_todo_group":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Todo Group"}},"type":"object","title":"TagGroupUpdate","description":"태그 그룹 업데이트 DTO"},"TagIncludeMode":{"type":"string","enum":["none","timer_only","inherit_from_schedule"],"title":"TagIncludeMode","description":"타이머 태그 포함 모드"},"TagRead":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"name":{"type":"string","title":"Name"},"color":{"type":"string","title":"Color"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"group_id":{"type":"string","format":"uuid","title":"Group Id"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["id","name","color","group_id","created_at","updated_at"],"title":"TagRead","description":"태그 조회 DTO"},"TagStat":{"properties":{"tag_id":{"type":"string","format":"uuid","title":"Tag Id"},"tag_name":{"type":"string","title":"Tag Name"},"count":{"type":"integer","title":"Count"}},"type":"object","required":["tag_id","tag_name","count"],"title":"TagStat","description":"태그별 통계"},"TagUpdate":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"color":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Color"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"}},"type":"object","title":"TagUpdate","description":"태그 업데이트 DTO"},"TimerRead":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"schedule_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Schedule Id"},"todo_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Todo Id"},"title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Title"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"allocated_duration":{"type":"integer","title":"Allocated Duration"},"elapsed_time":{"type":"integer","title":"Elapsed Time"},"status":{"type":"string","title":"Status"},"started_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Started At"},"paused_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Paused At"},"ended_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Ended At"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"},"pause_history":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Pause History","default":[]},"schedule":{"anyOf":[{"$ref":"#/components/schemas/ScheduleRead"},{"type":"null"}]},"todo":{"anyOf":[{"$ref":"#/components/schemas/TodoRead"},{"type":"null"}]},"tags":{"items":{"$ref":"#/components/schemas/TagRead"},"type":"array","title":"Tags","default":[]},"owner_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Owner Id"},"visibility_level":{"anyOf":[{"$ref":"#/components/schemas/VisibilityLevel"},{"type":"null"}]},"is_shared":{"type":"boolean","title":"Is Shared","default":false}},"type":"object","required":["id","allocated_duration","elapsed_time","status","created_at","updated_at"],"title":"TimerRead","description":"타이머 조회 DTO"},"TimerUpdate":{"properties":{"title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Title"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"tag_ids":{"anyOf":[{"items":{"type":"string","format":"uuid"},"type":"array"},{"type":"null"}],"title":"Tag Ids"},"todo_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Todo Id"},"schedule_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Schedule Id"},"visibility":{"anyOf":[{"$ref":"#/components/schemas/VisibilitySettings"},{"type":"null"}]}},"type":"object","title":"TimerUpdate","description":"타이머 업데이트 DTO\n\ntodo_id, schedule_id 필드 동작:\n- 필드가 요청에 포함되지 않음 (undefined): 기존 값 유지\n- 필드가 UUID 값: 해당 ID로 연결 변경\n- 필드가 null: 연결 해제\n\nNote: 자동 연결 기능은 적용되지 않음 (명시적 변경만 수행)"},"TodoCreate":{"properties":{"title":{"type":"string","title":"Title"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"tag_group_id":{"type":"string","format":"uuid","title":"Tag Group Id"},"tag_ids":{"anyOf":[{"items":{"type":"string","format":"uuid"},"type":"array"},{"type":"null"}],"title":"Tag Ids"},"deadline":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Deadline"},"parent_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Parent Id"},"status":{"anyOf":[{"$ref":"#/components/schemas/TodoStatus"},{"type":"null"}],"default":"UNSCHEDULED"},"visibility":{"anyOf":[{"$ref":"#/components/schemas/VisibilitySettings"},{"type":"null"}]}},"type":"object","required":["title","tag_group_id"],"title":"TodoCreate","description":"Todo 생성 DTO"},"TodoIncludeReason":{"type":"string","enum":["MATCH","ANCESTOR"],"title":"TodoIncludeReason","description":"Todo가 응답에 포함된 사유"},"TodoRead":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"title":{"type":"string","title":"Title"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"deadline":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Deadline"},"tag_group_id":{"type":"string","format":"uuid","title":"Tag Group Id"},"parent_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Parent Id"},"status":{"$ref":"#/components/schemas/TodoStatus"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"tags":{"items":{"$ref":"#/components/schemas/TagRead"},"type":"array","title":"Tags","default":[]},"schedules":{"items":{"$ref":"#/components/schemas/ScheduleRead"},"type":"array","title":"Schedules","default":[]},"include_reason":{"$ref":"#/components/schemas/TodoIncludeReason","default":"MATCH"},"owner_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Owner Id"},"visibility_level":{"anyOf":[{"$ref":"#/components/schemas/VisibilityLevel"},{"type":"null"}]},"is_shared":{"type":"boolean","title":"Is Shared","default":false}},"type":"object","required":["id","title","tag_group_id","status","created_at"],"title":"TodoRead","description":"Todo 조회 DTO"},"TodoStats":{"properties":{"group_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Group Id"},"total_count":{"type":"integer","title":"Total Count"},"by_tag":{"items":{"$ref":"#/components/schemas/TagStat"},"type":"array","title":"By Tag"}},"type":"object","required":["total_count","by_tag"],"title":"TodoStats","description":"Todo 통계"},"TodoStatus":{"type":"string","enum":["UNSCHEDULED","SCHEDULED","DONE","CANCELLED"],"title":"TodoStatus","description":"Todo 상태"},"TodoUpdate":{"properties":{"title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Title"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"tag_group_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Tag Group Id"},"tag_ids":{"anyOf":[{"items":{"type":"string","format":"uuid"},"type":"array"},{"type":"null"}],"title":"Tag Ids"},"deadline":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Deadline"},"parent_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Parent Id"},"status":{"anyOf":[{"$ref":"#/components/schemas/TodoStatus"},{"type":"null"}]},"visibility":{"anyOf":[{"$ref":"#/components/schemas/VisibilitySettings"},{"type":"null"}]}},"type":"object","title":"TodoUpdate","description":"Todo 업데이트 DTO"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"},"VisibilityLevel":{"type":"string","enum":["private","friends","selected","public"],"title":"VisibilityLevel","description":"가시성 레벨"},"VisibilitySettings":{"properties":{"level":{"$ref":"#/components/schemas/VisibilityLevel","default":"private"},"allowed_user_ids":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Allowed User Ids"}},"type":"object","title":"VisibilitySettings","description":"가시성 설정 DTO"}},"securitySchemes":{"HTTPBearer":{"type":"http","scheme":"bearer"}}}}